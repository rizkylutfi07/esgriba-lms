{
  "info": {
    "name": "CBT E-Sgriba API",
    "description": "Collection untuk testing API CBT E-Sgriba",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"guru@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/login",
              "host": ["{{base_url}}"],
              "path": ["api", "login"]
            }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/me",
              "host": ["{{base_url}}"],
              "path": ["api", "me"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "Question Bank",
      "item": [
        {
          "name": "Get All Questions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/question-bank?category=Trigonometri&difficulty_level=1",
              "host": ["{{base_url}}"],
              "path": ["api", "question-bank"],
              "query": [
                {
                  "key": "category",
                  "value": "Trigonometri"
                },
                {
                  "key": "difficulty_level",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Create Question",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"subject_id\": 1,\n  \"category\": \"Trigonometri\",\n  \"question_text\": \"Berapakah nilai sin 30°?\",\n  \"question_type\": \"multiple_choice\",\n  \"difficulty_level\": 1,\n  \"points\": 10,\n  \"explanation\": \"Sin 30° = 1/2 berdasarkan tabel trigonometri\",\n  \"options\": [\n    {\"text\": \"1/2\", \"is_correct\": true},\n    {\"text\": \"1/3\", \"is_correct\": false},\n    {\"text\": \"√3/2\", \"is_correct\": false}\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/question-bank",
              "host": ["{{base_url}}"],
              "path": ["api", "question-bank"]
            }
          }
        },
        {
          "name": "Bulk Add to Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"test_id\": 1,\n  \"question_ids\": [1, 2, 3, 4, 5]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/question-bank/bulk-add-to-test",
              "host": ["{{base_url}}"],
              "path": ["api", "question-bank", "bulk-add-to-test"]
            }
          }
        }
      ]
    },
    {
      "name": "Tests",
      "item": [
        {
          "name": "Get All Tests",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/tests?status=active&subject=Matematika",
              "host": ["{{base_url}}"],
              "path": ["api", "tests"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                },
                {
                  "key": "subject",
                  "value": "Matematika"
                }
              ]
            }
          }
        },
        {
          "name": "Create Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Ujian Tengah Semester Matematika\",\n  \"description\": \"Materi: Trigonometri dan Logaritma\",\n  \"subject\": \"Matematika\",\n  \"kelas\": \"X MIPA 1\",\n  \"duration\": 90,\n  \"passing_score\": 70,\n  \"start_time\": \"2025-11-01 08:00:00\",\n  \"end_time\": \"2025-11-01 10:00:00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/tests",
              "host": ["{{base_url}}"],
              "path": ["api", "tests"]
            }
          }
        },
        {
          "name": "Duplicate Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/tests/1/duplicate",
              "host": ["{{base_url}}"],
              "path": ["api", "tests", "1", "duplicate"]
            }
          }
        },
        {
          "name": "Toggle Publish",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/tests/1/toggle-publish",
              "host": ["{{base_url}}"],
              "path": ["api", "tests", "1", "toggle-publish"]
            }
          }
        }
      ]
    },
    {
      "name": "Test Attempts (Student)",
      "item": [
        {
          "name": "Start Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/tests/1/start",
              "host": ["{{base_url}}"],
              "path": ["api", "tests", "1", "start"]
            }
          }
        },
        {
          "name": "Submit Answer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"question_id\": 1,\n  \"option_id\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/attempts/1/answer",
              "host": ["{{base_url}}"],
              "path": ["api", "attempts", "1", "answer"]
            }
          }
        },
        {
          "name": "Finish Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/attempts/1/finish",
              "host": ["{{base_url}}"],
              "path": ["api", "attempts", "1", "finish"]
            }
          }
        },
        {
          "name": "My Attempts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/attempts",
              "host": ["{{base_url}}"],
              "path": ["api", "attempts"]
            }
          }
        }
      ]
    },
    {
      "name": "Reports & Statistics",
      "item": [
        {
          "name": "Teacher Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/dashboard/teacher",
              "host": ["{{base_url}}"],
              "path": ["api", "dashboard", "teacher"]
            }
          }
        },
        {
          "name": "Student Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/dashboard/student",
              "host": ["{{base_url}}"],
              "path": ["api", "dashboard", "student"]
            }
          }
        },
        {
          "name": "Test Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/test/1/statistics",
              "host": ["{{base_url}}"],
              "path": ["api", "reports", "test", "1", "statistics"]
            }
          }
        },
        {
          "name": "Attempt Analysis",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/attempt/1/analysis",
              "host": ["{{base_url}}"],
              "path": ["api", "reports", "attempt", "1", "analysis"]
            }
          }
        },
        {
          "name": "Export Test Results",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/test/1/export",
              "host": ["{{base_url}}"],
              "path": ["api", "reports", "test", "1", "export"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ]
}
