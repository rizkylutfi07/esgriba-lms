import{j as $}from"./vendor-ui-XVksrZ5j.js";import{r as m}from"./vendor-react-DruPVAFJ.js";import{k as u}from"./vendor-math-BWdfurLP.js";const y=({content:i,className:h=""})=>{const s=m.useRef(null);return m.useEffect(()=>{if(!(!s.current||!i))try{s.current.innerHTML=i;const c=s.current,p=/\$\$(.*?)\$\$/g;let t=c.innerHTML;t=t.replace(p,(r,e)=>{try{return u.renderToString(e.trim(),{displayMode:!0,throwOnError:!1,output:"html"})}catch(n){return r}});const d=/\$([^\$]+?)\$/g;t=t.replace(d,(r,e)=>{try{return u.renderToString(e.trim(),{displayMode:!1,throwOnError:!1,output:"html"})}catch(n){return r}}),c.innerHTML=t;const f=r=>{if(r.nodeType===Node.TEXT_NODE&&r.textContent){let e=r.textContent,n=!1;if([{regex:/(\w+)\^(\d+)/g,replace:(a,o,l)=>(n=!0,`$${o}^{${l}}$`)},{regex:/(\w+)_(\d+)/g,replace:(a,o,l)=>(n=!0,`$${o}_{${l}}$`)},{regex:/sqrt\(([^)]+)\)/g,replace:(a,o)=>(n=!0,`$\\sqrt{${o}}$`)},{regex:/(\d+)\/(\d+)/g,replace:(a,o,l)=>(n=!0,`$\\frac{${o}}{${l}}$`)}].forEach(({regex:a,replace:o})=>{e=e.replace(a,o)}),n&&r.parentNode){const a=document.createElement("span");a.innerHTML=e,r.parentNode.replaceChild(a,r)}}Array.from(r.childNodes).forEach(f)};f(c),t=c.innerHTML.replace(p,(r,e)=>{try{return u.renderToString(e.trim(),{displayMode:!0,throwOnError:!1,output:"html"})}catch(n){return r}}),t=t.replace(d,(r,e)=>{try{return u.renderToString(e.trim(),{displayMode:!1,throwOnError:!1,output:"html"})}catch(n){return r}}),c.innerHTML=t}catch(c){console.error("Error rendering math content:",c),s.current&&(s.current.innerHTML=i)}},[i]),$.jsx("div",{ref:s,className:h})};export{y as M};
