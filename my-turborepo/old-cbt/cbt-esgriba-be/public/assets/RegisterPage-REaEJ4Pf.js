var N=Object.defineProperty,y=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var x=(a,n,s)=>n in a?N(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,j=(a,n)=>{for(var s in n||(n={}))C.call(n,s)&&x(a,s,n[s]);if(p)for(var s of p(n))b.call(n,s)&&x(a,s,n[s]);return a},g=(a,n)=>y(a,k(n));var v=(a,n,s)=>new Promise((m,c)=>{var u=r=>{try{d(s.next(r))}catch(o){c(o)}},i=r=>{try{d(s.throw(r))}catch(o){c(o)}},d=r=>r.done?m(r.value):Promise.resolve(r.value).then(u,i);d((s=s.apply(a,n)).next())});import{j as e}from"./vendor-ui-XVksrZ5j.js";import{r as f,u as F,L as _}from"./vendor-react-DruPVAFJ.js";import{u as L,C as S,a as D,b as q,c as R,d as I,L as l,I as t,B as P,e as T}from"./index-BmVdEGiP.js";import"./vendor-utils-DI_-nBMo.js";import"./vendor-charts-BB9d_U7u.js";function H(){const[a,n]=f.useState({name:"",email:"",password:"",password_confirmation:"",role:"siswa",nim_nip:"",kelas:"",jurusan:"",phone:""}),[s,m]=f.useState(!1),c=F(),{toast:u}=L(),i=r=>{n(g(j({},a),{[r.target.name]:r.target.value}))},d=r=>v(this,null,function*(){var o,h;r.preventDefault(),m(!0);try{yield T.post("/register",a),u({title:"Registrasi berhasil",description:"Silakan login dengan akun Anda"}),c("/login")}catch(w){u({variant:"destructive",title:"Registrasi gagal",description:((h=(o=w.response)==null?void 0:o.data)==null?void 0:h.message)||"Terjadi kesalahan"})}finally{m(!1)}});return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(S,{className:"w-full max-w-2xl",children:[e.jsxs(D,{children:[e.jsx(q,{className:"text-2xl",children:"Daftar Akun Baru"}),e.jsx(R,{children:"Lengkapi informasi untuk membuat akun"})]}),e.jsxs(I,{children:[e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Nama Lengkap *"}),e.jsx(t,{id:"name",name:"name",value:a.name,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(t,{id:"email",name:"email",type:"email",value:a.email,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"Password *"}),e.jsx(t,{id:"password",name:"password",type:"password",value:a.password,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Konfirmasi Password *"}),e.jsx(t,{id:"password_confirmation",name:"password_confirmation",type:"password",value:a.password_confirmation,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"role",children:"Role *"}),e.jsxs("select",{id:"role",name:"role",value:a.role,onChange:i,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[e.jsx("option",{value:"siswa",children:"Siswa"}),e.jsx("option",{value:"guru",children:"Guru"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"nim_nip",children:"NIM/NIP"}),e.jsx(t,{id:"nim_nip",name:"nim_nip",value:a.nim_nip,onChange:i})]}),a.role==="siswa"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"kelas",children:"Kelas"}),e.jsx(t,{id:"kelas",name:"kelas",value:a.kelas,onChange:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"jurusan",children:"Jurusan"}),e.jsx(t,{id:"jurusan",name:"jurusan",value:a.jurusan,onChange:i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Telepon"}),e.jsx(t,{id:"phone",name:"phone",value:a.phone,onChange:i})]})]}),e.jsx(P,{type:"submit",className:"w-full",disabled:s,children:s?"Memproses...":"Daftar"})]}),e.jsx("div",{className:"mt-4 text-center text-sm",children:e.jsx(_,{to:"/login",className:"text-primary hover:underline",children:"Sudah punya akun? Masuk disini"})})]})]})})}export{H as default};
