var x=(s,d,o)=>new Promise((l,i)=>{var n=a=>{try{t(o.next(a))}catch(r){i(r)}},c=a=>{try{t(o.throw(a))}catch(r){i(r)}},t=a=>a.done?l(a.value):Promise.resolve(a.value).then(n,c);t((o=o.apply(s,d)).next())});import{j as e}from"./vendor-ui-XVksrZ5j.js";import{r as m}from"./vendor-react-DruPVAFJ.js";import{u as p,e as h,a as u,b as f,d as b}from"./index-BmVdEGiP.js";import{F as j}from"./file-text-8Keq495L.js";import{A as g}from"./activity-BvSUlSke.js";import{T as v}from"./trending-up-WSJC20Jg.js";import{U as k}from"./users-Cv97A8df.js";import{G as N,S as w}from"./school-2fIJ8nVb.js";import{B as y}from"./book-open-CXdsRrc-.js";import"./vendor-utils-DI_-nBMo.js";import"./vendor-charts-BB9d_U7u.js";function z(){const[s,d]=m.useState(null),[o,l]=m.useState(!0),{toast:i}=p();m.useEffect(()=>{n()},[]);const n=()=>x(this,null,function*(){var t,a;try{l(!0);const r=yield h.get("/dashboard/admin");d(r.data)}catch(r){console.error("Error loading stats:",r),i({title:"Error",description:((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Gagal memuat statistik dashboard",variant:"destructive"})}finally{l(!1)}}),c=[{title:"Total Ujian",value:(s==null?void 0:s.total_tests)||0,icon:j,gradient:"from-indigo-500 to-blue-500",bgGradient:"from-indigo-50 to-blue-50 dark:from-indigo-950/50 dark:to-blue-950/50"},{title:"Ujian Aktif",value:(s==null?void 0:s.active_tests)||0,icon:g,gradient:"from-pink-500 to-rose-500",bgGradient:"from-pink-50 to-rose-50 dark:from-pink-950/50 dark:to-rose-950/50"}];return o?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Memuat data dashboard..."})]})}):e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"modern-card p-6 md:p-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg floating",children:e.jsx(g,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold gradient-text",children:"Dashboard Admin"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Kelola sistem CBT dengan mudah dan efisien"})]})]})}),e.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2",children:c.map((t,a)=>{const r=t.icon;return e.jsxs("div",{className:"modern-card hover:scale-105 transition-transform duration-300 overflow-hidden group",style:{animationDelay:`${a*100}ms`},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(f,{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:t.title}),e.jsx("div",{className:`p-2 rounded-xl bg-gradient-to-br ${t.gradient} shadow-lg`,children:e.jsx(r,{className:"h-5 w-5 text-white"})})]}),e.jsxs(b,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-slate-700 to-slate-900 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent",children:t.value}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),"Update terbaru"]})]})]},t.title)})}),e.jsxs("div",{className:"modern-card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:"Aksi Cepat"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Kelola Guru",icon:k,link:"/teachers",gradient:"from-blue-500 to-indigo-500"},{label:"Kelola Siswa",icon:N,link:"/students",gradient:"from-purple-500 to-pink-500"},{label:"Kelola Kelas",icon:w,link:"/classes",gradient:"from-emerald-500 to-green-500"},{label:"Kelola Mapel",icon:y,link:"/subjects",gradient:"from-orange-500 to-amber-500"}].map(t=>{const a=t.icon;return e.jsxs("a",{href:t.link,className:"flex flex-col items-center gap-3 p-4 rounded-xl bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-lg transition-all duration-300 group border border-transparent hover:border-slate-200 dark:hover:border-slate-700",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.gradient} flex items-center justify-center group-hover:scale-110 transition-transform shadow-md`,children:e.jsx(a,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 text-center group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t.label})]},t.label)})})]})]})}export{z as default};
