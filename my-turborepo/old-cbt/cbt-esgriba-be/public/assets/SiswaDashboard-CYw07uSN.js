var f=(x,u,t)=>new Promise((o,r)=>{var l=s=>{try{n(t.next(s))}catch(i){r(i)}},h=s=>{try{n(t.throw(s))}catch(i){r(i)}},n=s=>s.done?o(s.value):Promise.resolve(s.value).then(l,h);n((t=t.apply(x,u)).next())});import{j as e}from"./vendor-ui-XVksrZ5j.js";import{u as C,r as m}from"./vendor-react-DruPVAFJ.js";import{u as A,h as D,C as N,d as k,B}from"./index-BmVdEGiP.js";import{r as T}from"./reportService-B_dxLGS9.js";import{t as E}from"./testService-BhFWneWt.js";import{B as b}from"./badge-DVlZ2whw.js";import{A as z}from"./activity-BvSUlSke.js";import{B as g}from"./book-open-CXdsRrc-.js";import{A as w}from"./award-DWPfopPw.js";import{C as I}from"./clock-eO0sA20s.js";import{C as L}from"./calendar-CL5fPy6R.js";import{P as $}from"./play-circle-DOrl6LA7.js";import"./vendor-utils-DI_-nBMo.js";import"./vendor-charts-BB9d_U7u.js";function X(){const x=C(),{toast:u}=A(),{token:t,isAuthenticated:o,user:r}=D(),[l,h]=m.useState([]),[n,s]=m.useState(null),[i,j]=m.useState(!0);m.useEffect(()=>{o&&t&&y()},[o,t]);const y=()=>f(this,null,function*(){var a,p,c;try{j(!0);const d=yield T.getStudentDashboard();s(d.summary||d);const v=yield E.getTests({status:"active",per_page:5});h(v.data||v)}catch(d){((a=d.response)==null?void 0:a.status)!==401&&u({title:"Error",description:((c=(p=d.response)==null?void 0:p.data)==null?void 0:c.message)||"Gagal memuat dashboard",variant:"destructive"})}finally{j(!1)}}),S=[];return i?e.jsx("div",{className:"flex justify-center items-center min-h-[500px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-t-4 border-blue-600 mx-auto"}),e.jsx("div",{className:"absolute inset-0 rounded-full h-16 w-16 border-4 border-blue-100 mx-auto"})]}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 animate-pulse",children:"Memuat dashboard..."})]})}):e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,rgba(255,255,255,0.6))]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx(b,{className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:"Siswa Aktif"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Selamat Datang, ",(r==null?void 0:r.name)||"Siswa","! ðŸ‘‹"]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Semangat belajar hari ini! Ayo kerjakan ujian yang tersedia."})]}),e.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-purple-300/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-3",children:S.map((a,p)=>{const c=a.icon;return e.jsxs("div",{className:"modern-card hover:scale-105 transition-transform duration-300 overflow-hidden group relative",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${a.gradient} shadow-lg`,children:e.jsx(c,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 bg-white/50 dark:bg-slate-700/50 px-2 py-1 rounded-full border border-slate-200/50 dark:border-slate-600/50",children:"Update Terbaru"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:a.title}),e.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:a.value})]})]})]},a.title)})}),e.jsx(N,{className:"border-0 shadow-xl overflow-hidden",children:e.jsx(k,{className:"p-6 dark:bg-slate-900/50",children:l.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex p-6 bg-slate-100 dark:bg-slate-800 rounded-full mb-4",children:e.jsx(g,{className:"w-16 h-16 text-slate-400 dark:text-slate-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Belum Ada Ujian"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Tidak ada ujian tersedia saat ini. Silakan cek kembali nanti."})]}):e.jsx("div",{className:"space-y-4",children:l.slice(0,5).map(a=>e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border-2 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 transition-all duration-300 hover:border-blue-300 dark:hover:border-blue-500 hover:shadow-xl hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-500 transition-colors duration-300",children:e.jsx(g,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 group-hover:text-white transition-colors duration-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[a.subject&&e.jsxs(b,{variant:"outline",className:"gap-1.5 bg-white dark:bg-slate-900 dark:text-slate-300 dark:border-slate-600",children:[e.jsx(g,{className:"w-3 h-3"}),a.subject]}),a.kelas&&e.jsxs(b,{variant:"outline",className:"gap-1.5 bg-white dark:bg-slate-900 dark:text-slate-300 dark:border-slate-600",children:[e.jsx(w,{className:"w-3 h-3"}),a.kelas]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 dark:text-slate-400 ml-11",children:[e.jsxs("span",{className:"flex items-center gap-1.5 font-medium",children:[e.jsx(I,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"}),a.duration," menit"]}),e.jsxs("span",{className:"flex items-center gap-1.5 font-medium",children:[e.jsx(L,{className:"w-4 h-4 text-emerald-500 dark:text-emerald-400"}),new Date(a.start_time).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]})]}),e.jsxs(B,{onClick:()=>x(`/tests/${a.id}`),size:"lg",className:"gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 dark:from-blue-700 dark:to-indigo-700 dark:hover:from-blue-600 dark:hover:to-indigo-600 shadow-lg hover:shadow-xl transition-all duration-300 text-white font-semibold px-6",children:[e.jsx($,{className:"w-5 h-5"}),"Kerjakan Sekarang"]})]})]},a.id))})})}),l.length>0&&e.jsx(N,{className:"border-0 bg-gradient-to-r from-purple-100 via-pink-100 to-red-100 dark:from-purple-900/40 dark:via-pink-900/40 dark:to-red-900/40 shadow-lg",children:e.jsxs(k,{className:"p-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"}),e.jsx("p",{className:"text-lg font-bold text-purple-900 dark:text-purple-100",children:"Tetap Semangat! ðŸ’ª"})]}),e.jsx("p",{className:"text-purple-700 dark:text-purple-200",children:"Kerjakan ujian dengan tenang dan percaya diri. Setiap usaha adalah langkah menuju kesuksesan!"})]})})]})}export{X as default};
